@model IEnumerable<CrossSell_App.Models.ObjectivesModel>

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/Scripts/CustomScripts.js"></script>
<h2>Create</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    var counter = 0;

                foreach (var item in ViewBag.SectionList)
                {
        counter++;
                    var secData = Model.Where(x => x.Metadata_Id == item.Metadata_Id).ToList();
        <table class="table" border="1" id=@counter>
            <tr>
                <th colspan="8">
                    @item.Metadata_Name
                </th>
            </tr>
            <tr>

                <th>Questions</th>
                <th>Comments</th>
                <th>Level</th>
                <th>Weight</th>
                <th>Answer(1-3)</th>
                <th>Score</th>
                <th>Max</th>
                <th>Score of Max</th>
            </tr>


            @foreach (CrossSell_App.Models.ObjectivesModel ques in secData)
        {
                <tr>
                    <td id="QuestionText">
                        @Html.DisplayFor(modelitem => ques.QuestionText)
                    </td>
                    <td id="comments">
                        @Html.EditorFor(modelitem => ques.Comments)
                    </td>
                    <td id="level">
                        @Html.EditorFor(modelitem => ques.Level)
                    </td>
                    <td id="weight">
                        @Html.EditorFor(modelitem => ques.Weight)
                    </td>
                    <td id="answer">
                        @Html.EditorFor(modelitem => ques.Answer)
                    </td>
                    <td id="score">
                        @Html.DisplayFor(modelitem => ques.Score)
                    </td>
                    <td id="max">
                        @Html.DisplayFor(modelitem => ques.Max)
                    </td>
                    <td id="maxscore">
                        @Html.DisplayFor(modelitem => ques.Score_Max)
                    </td>
                </tr>

            }
                <tr>
                    <td colspan="5" id="total">
                        Total @item.Metadata_Name
                    </td>
                    <td id="total_score">
                        24
                    </td>
                    <td id="total_Max">
                        24
                    </td>
                    <td id="total_ScoreMax">
                        54%
                    </td>
                </tr>
        </table>

    }
}
<div>
    @Html.ActionLink("Back to List", "Index")
</div>
